var three = require("three");

var __geoms = {};
function sphereHelper(radius = 0.5, segs = 16) {
	var hash = Array.prototype.join.call(arguments, ";");
	if(!__geoms[hash]) {
		var i, x, y, angle;
		var geom = new three.Geometry();
		for(i = 0; i <= segs; i++) {
			angle = i / segs * Math.PI * 2 + Math.PI * 0.5;
			x = Math.cos(angle) * radius;
			y = Math.sin(angle) * radius;
			geom.vertices.push(new three.Vector3(x, y, 0));
		}
		for(i = 0; i <= segs * 0.75; i++) {
			angle = i / segs * Math.PI * 2;
			x = Math.cos(angle) * radius;
			y = Math.sin(angle) * radius;
			geom.vertices.push(new three.Vector3(0, x, y));
		}
		for(i = 0; i <= segs; i++) {
			angle = i / segs * Math.PI * 2 + Math.PI;
			x = Math.cos(angle) * radius;
			y = Math.sin(angle) * radius;
			geom.vertices.push(new three.Vector3(y, 0, x));
		}
		for(i = segs * 0.75; i <= segs; i++) {
			angle = i / segs * Math.PI * 2;
			x = Math.cos(angle) * radius;
			y = Math.sin(angle) * radius;
			geom.vertices.push(new three.Vector3(0, x, y));
		}
		geom.radius = radius;
		__geoms[hash] = geom;
	}

	return __geoms[hash];
}

module.exports = sphereHelper;